import React, { useEffect, useState } from 'react';
import './Nav.css';

const Nav = () => {
  const [menuOpen, setMenuOpen] = useState(false);

  useEffect(() => {
    const navbar = document.querySelector('.nav-bar');

    if (!navbar) return; // Evita errores si el navbar no existe

    const handleScroll = () => {
      if (window.scrollY > window.innerHeight) {
        navbar.classList.add('nav-bar-active');
      } else {
        navbar.classList.remove('nav-bar-active');
      }
    };

    window.addEventListener('scroll', handleScroll);

    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  return (
    <nav className='nav-bar'>
      <svg className='main-kova-img' viewBox="0, 0, 400,84.3604831217095"><g id="svgg"><path id="path0" d="M5.451 44.100 L 5.451 84.113 8.857 84.113 L 12.264 84.113 12.264 74.403 L 12.264 64.693 26.122 52.087 C 33.744 45.154,40.010 39.476,40.047 39.468 C 40.084 39.461,47.384 49.489,56.269 61.753 L 72.423 84.051 76.595 84.083 C 78.890 84.101,80.768 84.087,80.768 84.053 C 80.768 84.018,72.769 72.928,62.992 59.408 C 53.215 45.889,45.215 34.798,45.215 34.761 C 45.215 34.724,52.685 27.834,61.815 19.450 C 70.945 11.065,78.414 4.179,78.414 4.147 C 78.414 4.114,76.170 4.088,73.427 4.088 L 68.440 4.088 65.028 7.216 C 63.152 8.936,56.268 15.249,49.730 21.245 C 33.790 35.863,12.498 55.301,12.368 55.353 C 12.311 55.375,12.264 43.850,12.264 29.741 L 12.264 4.088 8.857 4.088 L 5.451 4.088 5.451 44.100 M249.861 44.410 L 249.861 84.113 253.701 84.113 L 257.541 84.113 257.541 53.546 L 257.541 22.979 287.674 53.113 L 317.808 83.246 323.196 83.246 L 328.585 83.246 289.316 43.976 C 267.718 22.378,250.005 4.707,249.954 4.707 C 249.902 4.707,249.861 22.574,249.861 44.410 M117.931 5.345 C 101.484 6.856,87.605 18.674,83.551 34.620 C 77.708 57.603,93.282 80.434,116.754 83.294 C 143.213 86.519,165.150 62.826,159.925 36.668 C 156.016 17.095,137.814 3.518,117.931 5.345 M163.416 5.609 C 163.438 5.695,165.307 9.388,167.569 13.815 C 169.831 18.242,178.840 35.912,187.589 53.081 C 200.146 77.723,203.545 84.299,203.726 84.299 C 203.908 84.299,207.504 77.337,220.809 51.223 C 230.078 33.032,239.097 15.343,240.850 11.915 C 242.604 8.486,244.038 5.629,244.038 5.564 C 244.038 5.492,242.492 5.460,240.045 5.480 L 236.051 5.513 233.169 11.149 C 231.583 14.249,224.308 28.504,217.001 42.827 L 203.716 68.870 203.174 67.789 C 202.697 66.839,183.109 28.428,174.528 11.617 L 171.384 5.457 167.380 5.454 C 164.196 5.451,163.384 5.483,163.416 5.609 M123.692 11.948 C 140.994 12.711,155.236 28.884,153.986 46.350 C 152.321 69.623,127.922 83.829,107.205 73.587 C 83.646 61.940,82.763 29.112,105.657 15.996 C 110.287 13.343,117.528 11.488,121.833 11.851 C 122.038 11.868,122.874 11.912,123.692 11.948 M376.897 48.133 C 376.079 48.221,375.369 48.298,375.317 48.303 C 375.266 48.308,375.225 56.423,375.225 66.336 L 375.225 84.360 377.446 84.360 L 379.668 84.360 379.714 77.950 C 379.769 70.135,379.930 69.089,381.427 66.771 C 384.121 62.604,390.227 62.496,392.080 66.583 C 392.767 68.097,392.815 68.779,392.815 76.944 L 392.815 84.360 395.051 84.360 L 397.287 84.360 397.243 75.844 C 397.200 67.542,397.192 67.301,396.927 66.297 C 395.778 61.945,392.972 59.828,388.364 59.835 C 384.474 59.841,381.782 61.501,380.132 64.912 L 379.622 65.965 379.662 56.953 L 379.703 47.941 379.043 47.956 C 378.680 47.965,377.714 48.044,376.897 48.133 M273.410 57.799 C 268.109 59.225,267.381 66.637,272.305 69.051 C 276.305 71.011,280.798 68.402,281.046 63.975 C 281.278 59.835,277.426 56.719,273.410 57.799 M346.299 59.913 C 342.789 60.341,340.204 62.400,338.972 65.747 L 338.619 66.708 338.542 65.283 C 338.500 64.500,338.458 63.029,338.449 62.015 L 338.433 60.170 337.535 60.247 C 337.041 60.289,336.121 60.361,335.491 60.406 L 334.345 60.488 334.345 72.424 L 334.345 84.360 336.575 84.360 L 338.805 84.360 338.805 79.061 C 338.805 72.419,338.968 70.981,339.973 68.807 C 341.424 65.667,343.669 64.027,346.562 63.996 L 347.816 63.983 348.023 62.016 C 348.137 60.935,348.214 60.037,348.194 60.020 C 348.114 59.953,346.647 59.870,346.299 59.913 M360.845 59.950 C 348.983 62.121,346.338 78.561,356.988 83.915 L 357.891 84.368 362.996 84.333 L 368.102 84.299 369.126 83.816 C 369.894 83.454,370.135 83.283,370.090 83.134 C 370.056 83.025,369.864 82.220,369.662 81.344 C 369.218 79.414,369.396 79.556,368.152 80.138 C 361.538 83.234,355.258 79.849,354.943 73.019 C 354.612 65.826,360.396 61.825,367.535 64.309 C 368.119 64.512,368.674 64.689,368.769 64.702 C 368.906 64.721,369.855 61.744,369.893 61.177 C 369.900 61.059,368.259 60.492,367.049 60.194 C 365.884 59.908,361.926 59.752,360.845 59.950 " stroke="none" fill="#ffffff" fill-rule="evenodd"></path></g></svg>
      <div className='menu-img-container' onClick={() => setMenuOpen(!menuOpen)}>
        <svg className='menu-img' viewBox="0 0 20 20">
          <path fill="#ffffff" d="M19 4a1 1 0 01-1 1H2a1 1 0 010-2h16a1 1 0 011 1zm0 6a1 1 0 01-1 1H2a1 1 0 110-2h16a1 1 0 011 1zm-1 7a1 1 0 100-2H2a1 1 0 100 2h16z"/>
        </svg>
        <p className='menu-text'>Menú</p>
      </div>

      <div className={`menu-container ${menuOpen ? 'menu-open' : ''}`}>
        <div className='menu-img-container' onClick={() => setMenuOpen(!menuOpen)}>
          <svg className='menu-img close-img' viewBox="0 0 24 24" fill="none">
            <g id="SVGRepo_bgCarrier" stroke-width="0"/>
            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>
            <g id="SVGRepo_iconCarrier"> <path fill-rule="evenodd" clip-rule="evenodd" d="M5.29289 5.29289C5.68342 4.90237 6.31658 4.90237 6.70711 5.29289L12 10.5858L17.2929 5.29289C17.6834 4.90237 18.3166 4.90237 18.7071 5.29289C19.0976 5.68342 19.0976 6.31658 18.7071 6.70711L13.4142 12L18.7071 17.2929C19.0976 17.6834 19.0976 18.3166 18.7071 18.7071C18.3166 19.0976 17.6834 19.0976 17.2929 18.7071L12 13.4142L6.70711 18.7071C6.31658 19.0976 5.68342 19.0976 5.29289 18.7071C4.90237 18.3166 4.90237 17.6834 5.29289 17.2929L10.5858 12L5.29289 6.70711C4.90237 6.31658 4.90237 5.68342 5.29289 5.29289Z" fill="#ffffff"/> </g>
          </svg>
          <p className='menu-text'>Cerrar</p>
        </div>
        <ul className='menu-list'>
          <li><a>Inicio</a></li>
          <li><a>Galería</a></li>
          <li><a>Mueblería</a></li>
          <li><a>Acerca de</a></li>
        </ul>
      </div>
    </nav>
  );
}

export default Nav;
